# Input file for radial velocity fits

# Star parameters
star:
  name: "LHS1140"
  period: 131
  planets:
    b:
        period: 24.74
        K: 4.21
        ecc: 0.0
        omega: 0.0
        mass: 6.38 # Mearth
    c:
        period: 3.77
        K: 2.22
        ecc: 0.2
        omega: 0.0
        mass: 1.76 # Mearth


# Instrumental setup
instruments:
  # NIRPS:
  #   ref_star: "GL699"
  #   bin_label: "" # 2 for binned data, 1 for unbinned
  #   pca_label: "" # _PCA for PCA corrected data, "" for raw data
  #   dtemp_suffix: ""

  ESPRESSO:
    ref_star: "LHS1140"
    bin_label: "" # 2 for binned data, 1 for unbinned
    pca_label: "" # _PCA for PCA corrected data, "" for raw data
    dtemp_suffix: "3000"
    start_time: [2000,2,1]
    end_time: [2024,5,23]

  HARPS:
    ref_star: "LHS1140"
    bin_label: "" # 2 for binned data, 1 for unbinned
    pca_label: "" # _PCA for PCA corrected data, "" for raw data
    dtemp_suffix: "3000"
    start_time: [2000,2,1]
    end_time: [2019,12,05]

# Whether to use the activity indicator model as a prior for the RV analysis
use_indicator: False

# Whether there is Dtemp data or not
no_Dtemp: True

# Turn on to run the activity bayesian search
run_activity: False

# Turn on to run the RV bayesian search
run_RV: False

# MCMC or nested sampling
sampler: "emcee" # "emcee" or "dynesty"

# Priors for the activity indicator model (GP)
activity_priors:
  chosen_activity: "d2v"

  ### Parameter sharing between instruments
  #Indices vs. parameters: 

  # 0. `mu` (offset)
  # 1. `log_wn` (jitter noise)
  # 2. `log_amp` (amplitude)
  # 3. `log_lambda` (Coherence length)
  # 4. `gamma` (Number of sub-structures)
  # 5. `log_Prot` (Rotation period)

  shared_params: [3,4,5]

  individual_params: [0,1,2]

  # Parameters relative to the data
  mu:
    guess: 0.0
    distribution: "Normal"
    mean: 0.0
    std: 5.0
    min: -10.0
    max: 10.0

  noise:
    guess: 1.0
    distribution: "Uniform"
    mean: 1.0
    std: 1.0
    min: 0.001
    max: 100.0

  # Rotation period of the star
  GP_Prot:
    guess: 130.0
    distribution: "Uniform"
    mean: 130.0
    std: 10.0
    min: 60.0
    max: 150.0

  # Amplitude of the GP
  GP_sigma:
    guess: 1.0
    distribution: "Uniform"
    mean: 1.0
    std: 1.0
    min: 0.001
    max: 10.0

  # Length scale of the GP
  GP_length:
    guess: 130.0
    distribution: "Uniform"
    mean: 20.0
    std: 10.0
    min: 60.0
    max: 200.0

  # Number of sub-structures in a period
  GP_gamma:
    guess: 1.0
    distribution: "loguniform"
    mean: 5
    std: 2
    min: 0.01
    max: 10.0

# Number planets in the model
nplanets: 2

# Priors for the radial velocity model
RV_priors:
  # Parameters relative to the data
  # Period of the planet
  per1:
    guess: 24.737
    distribution: "Normal"
    mean: 24.737
    std: 1.0
    min: 20.0
    max: 28.0

  # Time of transit
  tc1:
    guess: 2458399.9300
    distribution: "Uniform"
    mean:  2458399.9300
    std: 1.0
    min: 2458380.9300
    max: 2458420.9300

  # Semi-amplitude of the planet signal
  k1:
    guess: 4.21
    distribution: "Uniform"
    mean: 4.21
    std: 1.0
    min: 0.0
    max: 5.0

  # # Eccentricity of the planet
  # secosw1:
  #   guess: 0.0
  #   distribution: "fixed"
  #   mean: 0.0
  #   std: 0.1
  #   min: -1.0
  #   max: 1.0

  # sesinw1:
  #   guess: 0.0
  #   distribution: "fixed"
  #   mean: 0.0
  #   std: 0.1
  #   min: -1.0
  #   max: 1.0


# Second planet
  # Period of the planet
  per2:
    guess: 3.7779
    distribution: "Normal"
    mean: 3.7779
    std: 0.2
    min: 3.0
    max: 5.0

  # Time of transit
  tc2:
    guess: 2458389.2939
    distribution: "Uniform"
    mean: 2458389.2939
    std: 1.0
    min: 2458386.2939
    max: 2458392.2939

  # Semi-amplitude of the planet signal
  k2:
    guess: 2.22
    distribution: "Uniform"
    mean: 2.22
    std: 0.2
    min: 0.0
    max: 5.0

  # # Eccentricity of the planet
  # secosw2:
  #   guess: 0.0
  #   distribution: "fixed"
  #   mean: 0.0
  #   std: 0.1
  #   min: -1.0
  #   max: 1.0

  # sesinw2:
  #   guess: 0.0
  #   distribution: "fixed"
  #   mean: 0.0
  #   std: 0.1
  #   min: -1.0
  #   max: 1.0

  mu:
    guess: 0.0
    distribution: "Normal"
    mean: 0.0
    std: 5.0
    min: -10.0
    max: 10.0

  noise:
    guess: 1.0
    distribution: "Uniform"
    mean: 1.0
    std: 1.0
    min: 0.001
    max: 100.0

  # Rotation period of the star
  GP_Prot:
    guess: 130.0
    distribution: "TruncatedNormal"
    mean: 130.0
    std: 2.0
    min: 120.0
    max: 140.0

  # Amplitude of the GP
  GP_sigma:
    guess: 3.0
    distribution: "Uniform"
    mean: 1.0
    std: 1.0
    min: 0.001
    max: 10.0

  # Length scale of the GP
  GP_length:
    guess: 80.0
    distribution: "Uniform"
    mean: 20.0
    std: 10.0
    min: 50.0
    max: 250.0

  # Number of sub-structures in a period
  GP_gamma:
    guess: 1
    distribution: "loguniform"
    mean: 0.0
    std: 10.0
    min: 1.0
    max: 3.0